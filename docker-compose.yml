services:
  smart-weather-api:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: smart-weather-api
    ports:
      - "8080:8080"
    environment:
      - ASPNETCORE_ENVIRONMENT=Development
      - Qdrant__Uri=http://qdrant:6334
      - Qdrant__CollectionName=smart_weather_docs
    depends_on:
      - qdrant                          
    networks:
      - weather-network

  qdrant:
    image: qdrant/qdrant:latest
    container_name: qdrant-db
    ports:
      - "6333:6333"                     
      - "6334:6334"                    
    volumes:
      - qdrant_storage:/qdrant/storage  
    networks:
      - weather-network

networks:
  weather-network:
    driver: bridge

volumes:
  qdrant_storage: